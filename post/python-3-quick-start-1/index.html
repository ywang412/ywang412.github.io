<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Python 3 quick start - 1 Basics | Yu&#39;s Github</title>
<meta name="description" content="Java by day, Scala by night">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://ywang412.github.io/favicon.ico?v=1573605884157">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://ywang412.github.io/styles/main.css">


  

  
    <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css" />
  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143424668-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143424668-1');
</script>


  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://ywang412.github.io">
        <img src="https://ywang412.github.io/images/avatar.png?v=1573605884157" class="site-logo">
        <h1 class="site-title">Yu&#39;s Github</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            Home
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            Archive
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            Tag
          </a>
        
      
        
          <a href="/post/resume" class="site-nav">
            Resume
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/ywang412/" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      Java by day, Scala by night
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://ywang412.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Python 3 quick start - 1 Basics</h2>
            <div class="post-date">2018-09-01</div>
            
            <div class="post-content">
              <p><strong>Math</strong></p>
<pre><code>2**3 = 8
9 // 2 = 4
int()   # convert string or float to int
type() # int, float, str, bool and NoneType
</code></pre>
<p><strong>Try Except</strong></p>
<pre><code>try:
    block1
except (NameError, ValueError, TypeError) as e:
    block2
except (IOError) as e:
    block3
finally:
		block4
		raise ValueError('input error')
</code></pre>
<p><strong>Class</strong></p>
<pre><code>import random

class RandomChar:
    def __init__(self):
        self.all_uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
        self.all_lowercase = 'abcdefghijklmnopqrstuvwxyz'
        self.all_digits = '0123456789'
        self.all_specials = '~!@#$%^&amp;*'

    def pick_random_item(self, sequence):
        random_int = random.randint(0, len(sequence) - 1)
        return sequence[random_int]

    def uppercase(self):
        return self.pick_random_item(self.all_uppercase)

    def lowercase(self):
        return self.pick_random_item(self.all_lowercase)

    def digit(self):
        return self.pick_random_item(self.all_digits)

    def special(self):
        return self.pick_random_item(self.all_specials)

    def anyone(self):
        return self.pick_random_item(self.all_uppercase + self.all_lowercase + self.all_digits + self.all_specials)
</code></pre>
<p><strong>List</strong></p>
<pre><code>letters = ['a', 'b', 'c']
letters.append('d')
letters.insert(0, 'c')
letters.extend(['e', 'f'])
letters.pop(0)
letters.pop() # pop last
letters.remove('a')
letters.clear()
list('abc')
</code></pre>
<p><strong>Dict</strong></p>
<pre><code>codes = {'beijing' : '010', 'shanghai' : '021'}
codes.get('a', '100')
list(codes.keys())
list(codes.values())
list(codes.items())
codes.pop('beijing', '123')
codes.popitem() # random
codes.clear()
codes.update({'shanghai' : '000'})
dict(a = 1, b = 2)
</code></pre>
<p><strong>Set</strong></p>
<pre><code>numbers = {1, 2}
numbers.add(2)
numbers.update({2, 3})
numbers.remove(1) # throws KeyError
numbers.discard(1) # no Error thrown
numbers.pop() # random
set('abc')
</code></pre>
<p><strong>Iterator</strong></p>
<p>for is equivalent to</p>
<ol>
<li>call iter() on container  #   <code>__iter__()</code>,   <code>isinstance([1, 2, 3], Iterable)</code></li>
<li>call next()</li>
<li>break until StopIteration Error</li>
</ol>
<pre><code>class PowerOfTwo:
    def __init__(self):
        self.exponent = 0  					#  

    def __next__(self):
        if self.exponent &gt; 10:
            raise StopIteration
        else:
            result = 2 ** self.exponent		#  
            self.exponent += 1
            return result

    def __iter__(self):
        return self
				
				
p = PowerOfTwo()
for item in p:
		print(item)
</code></pre>
<p><strong>Generator</strong></p>
<p>generator will generate <code>__iter__()</code> and <code>__next__()</code></p>
<pre><code>def power_of_two():
	for exponent in range(11):	 
		yield 2 ** exponent	
</code></pre>
<p><code>generator = (operation for item in iterable)</code></p>
<p>use generator to generate list</p>
<pre><code># [generator]
[char.upper() for char in ['a', 'b', 'c', 'd', 'e']]
[char for char in ['a', 'b', 'c', 'd', 'e']]  #list('abcde')
[2 ** i for i in range(1, 11) if i % 2 == 1 ]
</code></pre>
<p>use generator to generate dict and set
{k: v for item in iterable}
{operation for item in iterable}</p>
<p><strong>Class method and class property</strong></p>
<pre><code>class Char:
    letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    __digits = '0123456789'    # private
	
    @classmethod
    def random_letter(cls):
        return random.choice(cls.letters)
	
    @classmethod
    def random_digits(cls):
        return random.choice(cls.digits)
    
    @staticmethod
    def random_char(string):
        if not isinstance(string, str):
        	raise TypeError('需要字符串参数')
        
        return random.choice(string)
</code></pre>
<p><strong>Inheritance</strong></p>
<pre><code>class B(A):
	def __init__(self):
		super().__init__()        # to have parent's method and property
		self.banana = 'banana'
</code></pre>
<p><strong>filter, map, sorted</strong></p>
<pre><code>codes= [('a', 1), ('b', 2)]
sorted(codes, key = lambda x : x[1])

# filter and map will return iterator
list(filter(lambda x : len(x)%2 == 1, ['a', 'bc']))
list(map(lambda x : x.upper(), ['a', 'bc']))
</code></pre>
<p><strong>Closure</strong></p>
<pre><code>def print_words(word):
    def repeat(times):
        return word * times
    
    return repeat

f = print_words(go)
f(2) 
</code></pre>
<p><strong>Decorator</strong></p>
<p>decorator is based on closure</p>
<pre><code>import datetime
import functools

def time(format):
    def decorator(func):
        @functools.wraps(func)   # change function name from wrapper to say_hello
        def wrapper(*args, **kw):
            print(datetime.datetime.now().strftime(format))
            return func(*args, **kw)
        return wrapper
    return decorator 
		
# say_hello = time('%Y/%m/%d %H:%M:%S')(say_hello)
@time('%Y/%m/%d %H:%M:%S')  # say_hello() as func in closure
def say_hello():
    print('Hello!')     
		
		
# binding		
		
class SelfPools(): 
    def __init__(self):
        self.routes = {}
    def route(self, route_str):
        def decorator(f):
            self.routes[route_str] = f
            return f
        return decorator

    def output(self, path): 
        view_function = self.routes.get(path) 
        if view_function:
            print u&quot;输出[%s]板块股票:&quot; % path
            for str in view_function():
                print(str)             
            return
        else: 
            raise ValueError('Route &quot;{}&quot;&quot; has not been registered'.format(path)) 				

app = SelfPools()  

@app.route(u&quot;5G&quot;) 
def Stock_pool_1(): 
    stock_name = [u&quot;600776:东方通信&quot;,u&quot;002792:通宇通信&quot;,u&quot;002268:卫士通&quot;,u&quot;300698:万马科技&quot;]
    return stock_name    

@app.route(u&quot;量子通信&quot;) 
def Stock_pool_2(): 
    stock_name = [u&quot;600746:中国海防&quot;,u&quot;002126:银轮股份&quot;,u&quot;600522:中天科技&quot;,u&quot;600468:百利电气&quot;]
    return stock_name     

app.output(u&quot;5G&quot;)
</code></pre>
<p><strong>multi-threading vs multi process</strong></p>
<p>Due to python GIL (only one thread will be executed by interpreter), multi-threading is good for IO-intensive. Multi process for CPU-intensive task.</p>
<pre><code>#!/usr/bin/python
from threading import Thread
from multiprocessing import Process,Manager
from timeit import timeit

#计算密集型任务
def count(n):
	while n &gt; 0:
		n -= 1
#不采用多任务方式     
def test_normal():
	count(1000000)
	count(1000000)
#多线程方式     
def test_Thread():
 	t1 = Thread(target=count,args=(1000000,))
 	t2 = Thread(target=count,args=(1000000,))
 	t1.start()
 	t2.start()
 	t1.join()
 	t2.join()			
#多进程方式  		
def test_Process():
 	t1 = Process(target=count,args=(1000000,))
 	t2 = Process(target=count,args=(1000000,))
 	t1.start()
 	t2.start()
 	t1.join()
 	t2.join()	
</code></pre>
<p><strong>Virtual Environment</strong></p>
<pre><code>python3 -m venv venv
cd venv\Scripts
activate.bat
cd venv\Scripts
deactivate.bat
</code></pre>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://ywang412.github.io/tag/GnJOCYZZE" class="tag">
                    Python
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://ywang412.github.io/post/stack-and-tree">
                  <h3 class="post-title">
                    Stack and Tree
                  </h3>
                </a>
              </div>
            

            
              

              
                <div id="disqus_thread" data-aos="fade-in"></div>
              
            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  

  
    <script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>
    <script>

    var options = {
      shortname: 'ywang412',
      apikey: 'gmr5wORrpUmczJ0fs6x1CjNX2WgIP2riU2sSqLrIo6Idh3GkyiY8WIpUwBaP70X5',
    }
    if ('') {
      options.api = ''
    }
    var dsqjs = new DisqusJS(options)

    </script>
  




  </body>
</html>
