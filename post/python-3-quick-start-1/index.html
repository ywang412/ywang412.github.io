<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Python 3 quick start - 1 Basics | Yu&#39;s Github</title>
<link rel="shortcut icon" href="https://ywang412.github.io/favicon.ico?v=1574054993418">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://ywang412.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://ywang412.github.io">
  <img class="avatar" src="https://ywang412.github.io/images/avatar.png?v=1574054993418" alt="">
  </a>
  <h1 class="site-title">
    Yu&#39;s Github
  </h1>
  <p class="site-description">
    Java, SQL, Python and a little bit of Scala 
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tag
        </a>
      
    
      
        <a href="/post/resume" class="menu">
          Resume
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>


        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Python 3 quick start - 1 Basics
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2018-09-01 ·
              </time>
              
                <a href="https://ywang412.github.io/tag/GnJOCYZZE" class="post-tag">
                  # Python
                </a>
              
            </div>
            
            <div class="post-content">
              <p><strong>Math</strong></p>
<pre><code>2**3 = 8
9 // 2 = 4
int()   # convert string or float to int
type() # int, float, str, bool and NoneType
</code></pre>
<p><strong>Try Except</strong></p>
<pre><code>try:
    block1
except (NameError, ValueError, TypeError) as e:
    block2
except (IOError) as e:
    block3
finally:
		block4
		raise ValueError('input error')
</code></pre>
<p><strong>Class</strong></p>
<pre><code>import random

class RandomChar:
    def __init__(self):
        self.all_uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
        self.all_lowercase = 'abcdefghijklmnopqrstuvwxyz'
        self.all_digits = '0123456789'
        self.all_specials = '~!@#$%^&amp;*'

    def pick_random_item(self, sequence):
        random_int = random.randint(0, len(sequence) - 1)
        return sequence[random_int]

    def uppercase(self):
        return self.pick_random_item(self.all_uppercase)

    def lowercase(self):
        return self.pick_random_item(self.all_lowercase)

    def digit(self):
        return self.pick_random_item(self.all_digits)

    def special(self):
        return self.pick_random_item(self.all_specials)

    def anyone(self):
        return self.pick_random_item(self.all_uppercase + self.all_lowercase + self.all_digits + self.all_specials)
</code></pre>
<p><strong>List</strong></p>
<pre><code>letters = ['a', 'b', 'c']
letters.append('d')
letters.insert(0, 'c')
letters.extend(['e', 'f'])
letters.pop(0)
letters.pop() # pop last
letters.remove('a')
letters.clear()
list('abc')
</code></pre>
<p><strong>Dict</strong></p>
<pre><code>codes = {'beijing' : '010', 'shanghai' : '021'}
codes.get('a', '100')
list(codes.keys())
list(codes.values())
list(codes.items())
codes.pop('beijing', '123')
codes.popitem() # random
codes.clear()
codes.update({'shanghai' : '000'})
dict(a = 1, b = 2)
</code></pre>
<p><strong>Set</strong></p>
<pre><code>numbers = {1, 2}
numbers.add(2)
numbers.update({2, 3})
numbers.remove(1) # throws KeyError
numbers.discard(1) # no Error thrown
numbers.pop() # random
set('abc')
</code></pre>
<p><strong>Iterator</strong></p>
<p>for is equivalent to</p>
<ol>
<li>call iter() on container  #   <code>__iter__()</code>,   <code>isinstance([1, 2, 3], Iterable)</code></li>
<li>call next()</li>
<li>break until StopIteration Error</li>
</ol>
<pre><code>class PowerOfTwo:
    def __init__(self):
        self.exponent = 0  					#  

    def __next__(self):
        if self.exponent &gt; 10:
            raise StopIteration
        else:
            result = 2 ** self.exponent		#  
            self.exponent += 1
            return result

    def __iter__(self):
        return self
				
				
p = PowerOfTwo()
for item in p:
		print(item)
</code></pre>
<p><strong>Generator</strong></p>
<p>generator will generate <code>__iter__()</code> and <code>__next__()</code></p>
<pre><code>def power_of_two():
	for exponent in range(11):	 
		yield 2 ** exponent	
</code></pre>
<p><code>generator = (operation for item in iterable)</code></p>
<p>use generator to generate list</p>
<pre><code># [generator]
[char.upper() for char in ['a', 'b', 'c', 'd', 'e']]
[char for char in ['a', 'b', 'c', 'd', 'e']]  #list('abcde')
[2 ** i for i in range(1, 11) if i % 2 == 1 ]
</code></pre>
<p>use generator to generate dict and set<br>
{k: v for item in iterable}<br>
{operation for item in iterable}</p>
<p><strong>Class method and class property</strong></p>
<pre><code>class Char:
    letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'
    __digits = '0123456789'    # private
	
    @classmethod
    def random_letter(cls):
        return random.choice(cls.letters)
	
    @classmethod
    def random_digits(cls):
        return random.choice(cls.digits)
    
    @staticmethod
    def random_char(string):
        if not isinstance(string, str):
        	raise TypeError('需要字符串参数')
        
        return random.choice(string)
</code></pre>
<p><strong>Inheritance</strong></p>
<pre><code>class B(A):
	def __init__(self):
		super().__init__()        # to have parent's method and property
		self.banana = 'banana'
</code></pre>
<p><strong>filter, map, sorted</strong></p>
<pre><code>codes= [('a', 1), ('b', 2)]
sorted(codes, key = lambda x : x[1])

# filter and map will return iterator
list(filter(lambda x : len(x)%2 == 1, ['a', 'bc']))
list(map(lambda x : x.upper(), ['a', 'bc']))
</code></pre>
<p><strong>Closure</strong></p>
<pre><code>def print_words(word):
    def repeat(times):
        return word * times
    
    return repeat

f = print_words(go)
f(2) 
</code></pre>
<p><strong>Decorator</strong></p>
<p>decorator is based on closure</p>
<pre><code>import datetime
import functools

def time(format):
    def decorator(func):
        @functools.wraps(func)   # change function name from wrapper to say_hello
        def wrapper(*args, **kw):
            print(datetime.datetime.now().strftime(format))
            return func(*args, **kw)
        return wrapper
    return decorator 
		
# say_hello = time('%Y/%m/%d %H:%M:%S')(say_hello)
@time('%Y/%m/%d %H:%M:%S')  # say_hello() as func in closure
def say_hello():
    print('Hello!')     
		
		
# binding		
		
class SelfPools(): 
    def __init__(self):
        self.routes = {}
    def route(self, route_str):
        def decorator(f):
            self.routes[route_str] = f
            return f
        return decorator

    def output(self, path): 
        view_function = self.routes.get(path) 
        if view_function:
            print u&quot;输出[%s]板块股票:&quot; % path
            for str in view_function():
                print(str)             
            return
        else: 
            raise ValueError('Route &quot;{}&quot;&quot; has not been registered'.format(path)) 				

app = SelfPools()  

@app.route(u&quot;5G&quot;) 
def Stock_pool_1(): 
    stock_name = [u&quot;600776:东方通信&quot;,u&quot;002792:通宇通信&quot;,u&quot;002268:卫士通&quot;,u&quot;300698:万马科技&quot;]
    return stock_name    

@app.route(u&quot;量子通信&quot;) 
def Stock_pool_2(): 
    stock_name = [u&quot;600746:中国海防&quot;,u&quot;002126:银轮股份&quot;,u&quot;600522:中天科技&quot;,u&quot;600468:百利电气&quot;]
    return stock_name     

app.output(u&quot;5G&quot;)
</code></pre>
<p><strong>multi-threading vs multi process</strong></p>
<p>Due to python GIL (only one thread will be executed by interpreter), multi-threading is good for IO-intensive. Multi process for CPU-intensive task.</p>
<pre><code>#!/usr/bin/python
from threading import Thread
from multiprocessing import Process,Manager
from timeit import timeit

#计算密集型任务
def count(n):
	while n &gt; 0:
		n -= 1
#不采用多任务方式     
def test_normal():
	count(1000000)
	count(1000000)
#多线程方式     
def test_Thread():
 	t1 = Thread(target=count,args=(1000000,))
 	t2 = Thread(target=count,args=(1000000,))
 	t1.start()
 	t2.start()
 	t1.join()
 	t2.join()			
#多进程方式  		
def test_Process():
 	t1 = Process(target=count,args=(1000000,))
 	t2 = Process(target=count,args=(1000000,))
 	t1.start()
 	t2.start()
 	t1.join()
 	t2.join()	
</code></pre>
<p><strong>Virtual Environment</strong></p>
<pre><code>python3 -m venv venv
cd venv\Scripts
activate.bat
cd venv\Scripts
deactivate.bat
</code></pre>

            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://ywang412.github.io/post/stack-and-tree">
              <h3 class="post-title">
                Stack and Tree
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'ywang412',
  apikey: 'gmr5wORrpUmczJ0fs6x1CjNX2WgIP2riU2sSqLrIo6Idh3GkyiY8WIpUwBaP70X5',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
   | 
  <a class="rss" href="https://ywang412.github.io/atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
